import { useEffect, useState } from 'react';
import BasicButton from '../../../../components/Button/Button'
import useInputs from '../../../../hooks/use-inputs';
import * as S from '../style'

const SignUpForm = ({setIsFormLogin}) => {

    const [{email, password,passwordConfirm}, onChangeForm] = useInputs({
        email: "",
        password: "",
        passwordConfirm:"",
    });

    const [isPasswordConfirm, setIspasswordConfirm] = useState(false);

    console.log(isPasswordConfirm)

    useEffect(()=>{
    if(password !== passwordConfirm) return setIspasswordConfirm(false)
            // 일치하지 않았을 때 실행문
      return setIspasswordConfirm(true) // 일치 했을 때 실행문
    },[password,passwordConfirm])
    
    // const {disalbed, errors} = useAuthValidation(password,email)

    const handleSignUpSubmit = (e) => {
        e.preventDefault();
        if(!email || !password) return;
        if(!isPasswordConfirm) return;
        alert("축하합니다. 회원가입이 완료되었습니다");
        setIsFormLogin(true);
    }

    /**
     * 강사님 예시
     * errors : {
     * email : {message:이메일 형식을 지켜주세요}
     * password: {message:비밀번호 양식을 지켜주세요}
     * }
     */

    /*
    (기초)
    email은 email 양식을 지켜야하며(@포함)
    password는 8글자 이상 작성 되어야한다.

    password = passwordConfirm이 달라졌을 때 실시간으로
    비밀번호와 비밀번호 확인이 다르지 않는지 확인

    BasicButton은
    데이터가 모두 채워져있지 않으면 dsiabled
    유효성이 검사되지 않으면 disabled --> 아이디와 비밀번호 양식을 확인해주세요 에러
    비밀번호와 비밀번화 확인이 다르면 disabled --> CSS 속성도 변경(흰색)

    Login의 email 로직에서도 똑같이 useInputs를 적용하고 유효성 적용 후
    커스텀 훅으로 함수 재사용 할 것
    */

    return(
    <S.Form>
        <S.InputBox>
            <label>이메일</label>
            <input onChange={onChangeForm} name='email'/>
        </S.InputBox>
        <S.InputBox>
            <label>비밀번호</label>
            <input onChange={onChangeForm} name='password'/>
        </S.InputBox>
        <S.InputBox>
            <label>비밀번호 확인</label>
            <input onChange={onChangeForm} name="passwordConfirm"/>
        </S.InputBox>
        <BasicButton size={"full"} shape={"default"} variant={"primary"}
            onClick ={handleSignUpSubmit}>
            회원가입
        </BasicButton>
    </S.Form>
        )
}
export default SignUpForm







------------------------------------------------------------------------------





import BasicButton from '../../../../components/Button/Button'
import * as S from '../style'


const SignInForm = () => {

    // const [email,onChangeEmail] = useInput();
    // const [password, onChangePassword] = useInput();

    const onPressSignIn = (e) => {
        e.preventDefault();
        console.log(e.target.email.value, e.target.password.value);
    };

    return(
    <S.Form onSubmit={onPressSignIn}>
        <S.InputBox>
            <label>이메일</label>
            <input name='email'/>
        </S.InputBox>
        <S.InputBox>
            <label>비밀번호</label>
            <input name='password'/>
        </S.InputBox>
        <BasicButton size={"full"} shape={"default"} variant={"primary"}>
            로그인
        </BasicButton>
    </S.Form>
        )
    };
export default SignInForm






